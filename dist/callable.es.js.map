{"version":3,"file":"callable.es.js","sources":["../src/callable.ts"],"sourcesContent":["export abstract class Callable<TResult> extends Function {\r\n  _bound: any;\r\n  constructor() {\r\n    super('...args', 'return this._bound._call(...args)')\r\n    this._bound = this.bind(this)\r\n    return this._bound;\r\n  }\r\n\r\n  abstract _call(...args: any[]): TResult;\r\n}\r\n\r\nexport abstract class CallableByProxy<TResult> extends Function {\r\n  constructor() {\r\n    super()\r\n    return new Proxy(this, {\r\n      apply: (target, thisArg, args) => target._call(...args)\r\n    })\r\n  }\r\n\r\n  abstract _call(...args: any[]): TResult;\r\n}\r\n\r\nexport abstract class CallableByClosure<TResult> extends Function {\r\n  constructor() {\r\n    super();\r\n    var closure: any = function(...args: any[]) { return closure._call(...args) }\r\n    return Object.setPrototypeOf(closure, new.target.prototype)\r\n  }\r\n\r\n  abstract _call(...args: any[]): TResult;\r\n}\r\n\r\nexport abstract class CallableByCallee<TResult> extends Function {\r\n  constructor() {\r\n    super('return arguments.callee._call.apply(arguments.callee, arguments)');\r\n  }\r\n\r\n  abstract _call(...args: any[]): TResult;\r\n}"],"names":[],"mappings":"MAAsB,QAAkB,SAAQ,QAAQ;IAEtD;QACE,KAAK,CAAC,SAAS,EAAE,mCAAmC,CAAC,CAAA;QACrD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;QAC7B,OAAO,IAAI,CAAC,MAAM,CAAC;KACpB;CAGF;AAED,MAAsB,eAAyB,SAAQ,QAAQ;IAC7D;QACE,KAAK,EAAE,CAAA;QACP,OAAO,IAAI,KAAK,CAAC,IAAI,EAAE;YACrB,KAAK,EAAE,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI,KAAK,MAAM,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;SACxD,CAAC,CAAA;KACH;CAGF;AAED,MAAsB,iBAA2B,SAAQ,QAAQ;IAC/D;QACE,KAAK,EAAE,CAAC;QACR,IAAI,OAAO,GAAQ,UAAS,GAAG,IAAW,IAAI,OAAO,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,CAAA,EAAE,CAAA;QAC7E,OAAO,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,CAAA;KAC5D;CAGF;AAED,MAAsB,gBAA0B,SAAQ,QAAQ;IAC9D;QACE,KAAK,CAAC,kEAAkE,CAAC,CAAC;KAC3E;CAGF;;;;"}